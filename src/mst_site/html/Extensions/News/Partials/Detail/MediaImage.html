<html xmlns:f="http://typo3.org/ns/TYPO3/CMS/Fluid/ViewHelpers"
      xmlns:n="http://typo3.org/ns/GeorgRinger/News/ViewHelpers"
      data-namespace-typo3-fluid="true">

<figure class="mediaelement mediaelement-image img-enlarge">
  <f:if condition="{mediaElement.link}">
    <f:then>
      <f:link.typolink parameter="{mediaElement.link}" target="{n:targetLink(link:mediaElement.link)}">
        <f:image image="{mediaElement}" title="{mediaElement.title}" alt="{mediaElement.alternative}"
                 maxWidth="{f:if(condition: settings.media.maxWidth, then: settings.media.maxWidth, else: settings.detail.media.image.maxWidth)}"
                 maxHeight="{f:if(condition: settings.media.maxHeight, then: settings.media.maxHeight, else: settings.detail.media.image.maxHeight)}"/>
      </f:link.typolink>
    </f:then>
    <f:else>
      <f:if condition="{settings.detail.media.image.lightbox.enabled}">
        <f:then>
          <a
            href="{f:uri.image(image:mediaElement, width:'{settings.detail.media.image.lightbox.width}', height:'{settings.detail.media.image.lightbox.height}')}"
            title="{mediaElement.title}" data-fancybox="gallery[234]"
            data-caption="{mediaElement.description}"
            class="{settings.detail.media.image.lightbox.class}"
            rel="{settings.detail.media.image.lightbox.rel}">
            <f:image image="{mediaElement}" title="{mediaElement.title}" alt="{mediaElement.alternative}"
                     maxWidth="{f:if(condition: settings.media.maxWidth, then: settings.media.maxWidth, else: settings.detail.media.image.maxWidth)}"
                     maxHeight="{f:if(condition: settings.media.maxHeight, then: settings.media.maxHeight, else: settings.detail.media.image.maxHeight)}"/>
          </a>
        </f:then>
        <f:else>
          <f:image image="{mediaElement}" title="{mediaElement.title}" alt="{mediaElement.alternative}"
                   maxWidth="{f:if(condition: settings.media.maxWidth, then: settings.media.maxWidth, else: settings.detail.media.image.maxWidth)}"
                   maxHeight="{f:if(condition: settings.media.maxHeight, then: settings.media.maxHeight, else: settings.detail.media.image.maxHeight)}"/>
        </f:else>
      </f:if>
    </f:else>
  </f:if>

  <f:if condition="{mediaElement.description}">
    <figcaption>
      {mediaElement.description}
    </figcaption>
  </f:if>
  <f:if
    condition="{mediaElement.originalResource.properties.copyright}||{mediaElement.originalResource.properties.creator}">
    <small tabindex="0" role="tooltip" class="tooltip" title="Info">
            <span
              data-tooltip="{mediaElement.originalResource.properties.copyright}{f:if(condition: '{mediaElement.originalResource.properties.copyright} && {mediaElement.originalResource.properties.creator}', then: ',')}{f:if(condition: '{mediaElement.originalResource.properties.creator}', then: ' {f:translate(key:\'LLL:EXT:jwmusterprojekt11/Resources/Private/Language/locallang.xlf:jwmusterprojekt11.by\')}: {mediaElement.originalResource.properties.creator}')}">&copy;</span>
      <i class="vhidden">{mediaElement.originalResource.properties.copyright}{f:if(condition:'{mediaElement.originalResource.properties.creator}',
        then:'{f:translate(key:\'LLL:EXT:jwmusterprojekt11/Resources/Private/Language/locallang.xlf:jwmusterprojekt11.by\')}:
        {mediaElement.originalResource.properties.creator}')}</i>
    </small>
  </f:if>
</figure>
</html>
